---
- name: Install Python 3 pre-requisites
  apt: name=python-software-properties state=present

- name: Add tmux Repository
  apt_repository: repo='ppa:pi-rho/dev'

- name: Add deadsnakes repo
  apt_repository: repo="ppa:fkrull/deadsnakes"

- name: Update Host
  apt: update_cache=yes

- name: Install python 3
  apt: name=python{{ python_version }}-dev state=present

- name: Install build dependecies for matplotlib
  apt: pkg=python-matplotlib state=build-dep

- name: Install Python Dependencies
  apt: pkg={{ item }} state=present
  with_items:
    - build-essential
    - python-dev
    - python3-pip
#    - python3-dev
    - libzmq3
    - libzmq3-dev
    - g++
    - libopenblas-dev
    - libtiff5-dev
    - libjpeg8-dev
    - zlib1g-dev
    - texlive-full
    - pandoc
    - libreadline-dev
    - python-psycopg2
    - python-mpltoolkits.basemap
    - libfontconfig
    - gdebi-core
    - tmux #<-- Use in place of screen
    - python-pygame #<-- For Python reinforcment lerning
    - xfce4 #<-- To test Python reinforcement learning

- name: Install additional Python libraries
  pip: name={{ item }} state=present
  with_items:
    - pandas
    - matplotlib
    - pygments
    - jsonschema
    - mpld3
    - pyyaml
    - psutil
    - networkx
    - sympy
    - node
    - cassandra-driver
    - pdfkit #<-- For jupyter hide_code
    - PILLOW
    - boto3 #<-- For AWS provisioning

#TODO: Install the same libraries as above for Python 3